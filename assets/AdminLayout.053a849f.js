import{aF as Z,aG as q,Z as U,l as b,r as C,j as F,aH as Q,aI as j,aJ as G,aK as J,ad as K,m as ee,p as te,aL as ae,k as ne,t as k,aM as oe,aN as le,aO as ie,aA as ue,v as re,aP as se,x as p,Y as ce,aQ as ve,q as de,n as P,b as u,Q as me,aD as he,P as z,a5 as fe,aR as ge,a6 as we,o as ye,a7 as be,w as R,aS as _e,X as D,aT as Me}from"./index.2e60e05b.js";import{V as O,a as $}from"./VList.edfb6dc9.js";import{V as Te}from"./VDivider.d1c96ce0.js";const Ee=100,xe=20;function X(e){const s=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*s}function Y(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let s=0;for(let d=e.length-1;d>0;d--){if(e[d].t===e[d-1].t)continue;const t=X(s),h=(e[d].d-e[d-1].d)/(e[d].t-e[d-1].t);s+=(h-t)*Math.abs(h),d===e.length-1&&(s*=.5)}return X(s)*1e3}function Se(){const e={};function s(h){Array.from(h.changedTouches).forEach(a=>{var r;((r=e[a.identifier])!=null?r:e[a.identifier]=new Z(xe)).push([h.timeStamp,a])})}function d(h){Array.from(h.changedTouches).forEach(a=>{delete e[a.identifier]})}function t(h){var a;const r=(a=e[h])==null?void 0:a.values().reverse();if(!r)throw new Error(`No samples for touch id ${h}`);const _=r[0],x=[],T=[];for(const c of r){if(_[0]-c[0]>Ee)break;x.push({t:c[0],d:c[1].clientX}),T.push({t:c[0],d:c[1].clientY})}return{x:Y(x),y:Y(T),get direction(){const{x:c,y:f}=this,[l,m]=[Math.abs(c),Math.abs(f)];return l>m&&c>=0?"right":l>m&&c<=0?"left":m>l&&f>=0?"down":m>l&&f<=0?"up":Ve()}}}return{addMovement:s,endTouch:d,getVelocity:t}}function Ve(){throw new Error}function Be(e){let{isActive:s,isTemporary:d,width:t,touchless:h,position:a}=e;q(()=>{window.addEventListener("touchstart",H,{passive:!0}),window.addEventListener("touchmove",M,{passive:!1}),window.addEventListener("touchend",B,{passive:!0})}),U(()=>{window.removeEventListener("touchstart",H),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",B)});const r=b(()=>a.value!=="bottom"),{addMovement:_,endTouch:x,getVelocity:T}=Se();let c=!1;const f=C(!1),l=C(0),m=C(0);let V;function E(n,i){return(a.value==="left"?n:a.value==="right"?document.documentElement.clientWidth-n:a.value==="bottom"?document.documentElement.clientHeight-n:S())-(i?t.value:0)}function w(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const o=a.value==="left"?(n-m.value)/t.value:a.value==="right"?(document.documentElement.clientWidth-n-m.value)/t.value:a.value==="bottom"?(document.documentElement.clientHeight-n-m.value)/t.value:S();return i?Math.max(0,Math.min(1,o)):o}function H(n){if(h.value)return;const i=n.changedTouches[0].clientX,o=n.changedTouches[0].clientY,g=25,y=a.value==="left"?i<g:a.value==="right"?i>document.documentElement.clientWidth-g:a.value==="bottom"?o>document.documentElement.clientHeight-g:S(),v=s.value&&(a.value==="left"?i<t.value:a.value==="right"?i>document.documentElement.clientWidth-t.value:a.value==="bottom"?o>document.documentElement.clientHeight-t.value:S());(y||v||s.value&&d.value)&&(c=!0,V=[i,o],m.value=E(r.value?i:o,s.value),l.value=w(r.value?i:o),x(n),_(n))}function M(n){const i=n.changedTouches[0].clientX,o=n.changedTouches[0].clientY;if(c){if(!n.cancelable){c=!1;return}const y=Math.abs(i-V[0]),v=Math.abs(o-V[1]);(r.value?y>v&&y>3:v>y&&v>3)?(f.value=!0,c=!1):(r.value?v:y)>3&&(c=!1)}if(!f.value)return;n.preventDefault(),_(n);const g=w(r.value?i:o,!1);l.value=Math.max(0,Math.min(1,g)),g>1?m.value=E(r.value?i:o,!0):g<0&&(m.value=E(r.value?i:o,!1))}function B(n){if(c=!1,!f.value)return;_(n),f.value=!1;const i=T(n.changedTouches[0].identifier),o=Math.abs(i.x),g=Math.abs(i.y);(r.value?o>g&&o>400:g>o&&g>3)?s.value=i.direction===({left:"right",right:"left",bottom:"up"}[a.value]||S()):s.value=l.value>.5}const L=b(()=>f.value?{transform:a.value==="left"?`translateX(calc(-100% + ${l.value*t.value}px))`:a.value==="right"?`translateX(calc(100% - ${l.value*t.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${l.value*t.value}px))`:S(),transition:"none"}:void 0);return{isDragging:f,dragProgress:l,dragStyles:L}}function S(){throw new Error}const ke=F({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:Boolean,railWidth:{type:[Number,String],default:72},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"left",validator:e=>["left","right","bottom"].includes(e)},...Q(),...j(),...G(),...J(),...K({tag:"nav"}),...ee()},emits:{"update:modelValue":e=>!0},setup(e,s){let{attrs:d,slots:t}=s;const{themeClasses:h}=te(e),{borderClasses:a}=ae(e),{backgroundColorClasses:r,backgroundColorStyles:_}=ne(k(e,"color")),{elevationClasses:x}=oe(e),{mobile:T}=le(),{roundedClasses:c}=ie(e),f=ue(),l=re(e,"modelValue",null,v=>!!v),m=C(!1),{ssrBootStyles:V}=se(),E=b(()=>e.rail&&e.expandOnHover&&m.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),w=b(()=>!e.permanent&&(T.value||e.temporary));e.disableResizeWatcher||p(w,v=>!e.permanent&&(l.value=!v)),!e.disableRouteWatcher&&f&&p(f.currentRoute,()=>w.value&&(l.value=!1)),p(()=>e.permanent,v=>{v&&(l.value=!0)}),ce(()=>{e.modelValue!=null||w.value||(l.value=e.permanent||!T.value)});const H=C(),{isDragging:M,dragProgress:B,dragStyles:L}=Be({isActive:l,isTemporary:w,width:E,touchless:k(e,"touchless"),position:k(e,"location")}),n=b(()=>{const v=w.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):E.value;return M.value?v*B.value:v}),{layoutItemStyles:i,layoutRect:o,layoutItemScrimStyles:g}=ve({id:e.name,order:b(()=>parseInt(e.order,10)),position:k(e,"location"),layoutSize:n,elementSize:E,active:b(()=>l.value||M.value),disableTransitions:b(()=>M.value),absolute:k(e,"absolute")}),y=b(()=>({...M.value?{opacity:B.value*.2,transition:"none"}:void 0,...o.value?{left:P(o.value.left),right:P(o.value.right),top:P(o.value.top),bottom:P(o.value.bottom)}:void 0,...g.value}));return de(()=>{var v,N,I,W;const A=t.image||e.image;return u(z,null,[u(e.tag,me({ref:H,onMouseenter:()=>m.value=!0,onMouseleave:()=>m.value=!1,class:["v-navigation-drawer",{"v-navigation-drawer--bottom":e.location==="bottom","v-navigation-drawer--end":e.location==="right","v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":m.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--start":e.location==="left","v-navigation-drawer--temporary":w.value,"v-navigation-drawer--active":l.value},h.value,r.value,a.value,x.value,c.value],style:[_.value,i.value,L.value,V.value]},d),{default:()=>[A&&u("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?(v=t.image)==null?void 0:v.call(t,{image:e.image}):u("img",{src:e.image,alt:""},null)]),t.prepend&&u("div",{class:"v-navigation-drawer__prepend"},[(N=t.prepend)==null?void 0:N.call(t)]),u("div",{class:"v-navigation-drawer__content"},[(I=t.default)==null?void 0:I.call(t)]),t.append&&u("div",{class:"v-navigation-drawer__append"},[(W=t.append)==null?void 0:W.call(t)])]}),u(he,{name:"fade-transition"},{default:()=>[w.value&&(M.value||l.value)&&u("div",{class:"v-navigation-drawer__scrim",style:y.value,onClick:()=>l.value=!1},null)]})])}),{}}}),Pe={__name:"AdminLayout",setup(e){const s=fe(),{avatar:d,account:t}=ge(s);return(h,a)=>{const r=we("router-view");return ye(),be(z,null,[u(ke,{"expand-on-hover":"",rail:"",permanent:""},{default:R(()=>[u(O,null,{default:R(()=>[u($,{"prepend-avatar":D(d),title:D(t)},null,8,["prepend-avatar","title"])]),_:1}),u(Te),u(O,null,{default:R(()=>[u($,{to:"/admin/products",title:"\u5546\u54C1\u7BA1\u7406","prepend-icon":"mdi-shopping"}),u($,{to:"/admin/orders",title:"\u8A02\u55AE\u7BA1\u7406","prepend-icon":"mdi-format-list-checkbox"}),u($,{to:"/",title:"\u56DE\u524D\u53F0","prepend-icon":"mdi-home"})]),_:1})]),_:1}),u(_e,null,{default:R(()=>[u(Me,null,{default:R(()=>[u(r)]),_:1})]),_:1})],64)}}};export{Pe as default};
